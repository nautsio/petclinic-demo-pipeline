import jenkins.model.*
import hudson.plugins.sonar.*
import hudson.plugins.sonar.model.*

def inst = Jenkins.instance

def desc = inst.getDescriptor("hudson.plugins.sonar.SonarPublisher")

def sinst = new SonarInstallation(
  "Sonar",
  "http://sonar:9000",
  "5.6",
  "",
  "jdbc:postgresql://sonardb:5432/sonar",
  "sonar",
  "sonar",
  "",
  "",
  new TriggersConfig(),
  "",
  "",
  "")

desc.setInstallations(sinst)
desc.save()
